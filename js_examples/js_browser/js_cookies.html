<!DOCTYPE html>
<html lang="en">
<head>
<title>JS and jQuery | JS examples: cookies</title>
<meta charset="utf-8">
<meta name="description" content="HTML5, js, jquery demos" />
<!-- server
<link rel="stylesheet" type="text/css" href="..stylesheets/main1.css"></link>
-->
<link rel="stylesheet" type="text/css" href="../../stylesheets/main1.css"></link>
<style type="text/css"></style>
<script src="https://code.jquery.com/jquery-2.1.1.js"></script>
<script src="https://code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		
	}); //end doc ready
</script>
</head>
<body>
	<input type="button" id="submit" class="btn" value="Refreshness" onclick="location.reload();" />
	<br /><br />
  <h1>JS examples: cookies</h1>

  <ul><span class="ul_tops">Cookie details</span>
  	<li>Basically a text file with info</li>
  	<li>Cookies were invented to solve the lack of persistence</li>
  	<li>This lets servers connect the dots: a browser to user to user on database</li>
  	<li>Information is stored in name-value pairs: username=lukematthew</li>
  	<li>When browsers request a web page from a server the cookie gets sent along with it</li>
  </ul>

  <ul><span class="ul_tops">Create a cookie with JS</span>
  	<li>You can use JS to create or get cookies</li>
    <li>You will want to first check to see if there is a cookie</li>
    <li>Then if values you are looking for are empty set them</li>
  </ul>

  <ul><span class="ul_tops">Cookkie deep dive</span>
    <li>Create a cookie : document.cookie="username=Jean Luke";</li>
    <li>With Exp date : document.cookie="username=Jean Luke; expires=Fri, 24 Dec 2016 12:00:00 UTC";</li>
    <li>You may use the path param to tell browser where cookie belongs.</li>
    <li>By default it will belong to the current page</li>
    <li>path param : document.cookie="username=Jean Luke; expires=Fri, 24 Dec 2016 12:00:00 UTC; path=/";</li>
    <li>Read a cookie : var x = document.cookie;</li>
    <li>document.cookie will return all cookies in one string such as: cookie_1=value; cookie_2=value; cookie_3=value;</li>
    <li>Change a cookie like you would create it</li>
    <li>document.cookie="username=William Riker; expires=Fri, 24 Dec 2016 12:00:00 UTC; path=/";</li>
  </ul>


<script>
	//create cookie
  function setCookie(cname,cvalue,exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires=" + d.toGMTString();
    document.cookie = cname+"="+cvalue+"; "+expires;
  }

  //get cookie
  function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
  }

  //check to see if anyone ate those cookies
  (function checkCookie() {
    var user=getCookie("username");
    if (user != "") {
        alert("Welcome again " + user);
    } else {
       user = prompt("Please enter your name:","");
       if (user != "" && user != null) {
           setCookie("username", user, 30);
       }
    }
  })();



	$(document).ready(function(){

	}); //end doc ready
</script>
</body>
</html>